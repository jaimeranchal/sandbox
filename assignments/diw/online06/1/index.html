<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html lang="es" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width initial-scale=1">
        <title>Tarea online 6</title>
        <link rel="stylesheet" href="../estilo.css" type="text/css" media="all">
        <!-- librerias -->
        <script src="../jquery-3.5.1.min.js"></script>
        <script charset="utf-8">
            "use strict";

            /** NOTAS:
             * El requisito de un color diferente para cada celda ha sido
             * la parte que me ha costado un poco de este ejercicio.
             *
             * Para resolverlo, he optado por asignar directamente en el html
             * un color de fondo a cada celda mediante clases css.
             *
             * Al cargar la página, recorro con un bucle cada celda:
             * 1. Guardo la clase original en un array
             * 2. Elimino la clase, y con ello, el color de fondo
             * 3. Establezo un evento hover, más cómodo que establecer un
             * mouseover y mouseout por separado. Este evento lanza dos
             * funciones:
             *  - añadir la clase original que tenían al entrar con el ratón
             *  - eliminarla al salir
             */

            /* Variables */
            let clase = []; // array donde guardo las clases de cada celda

            $(document).ready(function(){

                // Bucle para cada elemento td de la tabla
                $("table td").each( function(ind, ele) {
                    // guardo la clase de la celda en el array
                    clase[ind] = $(ele).attr('class');    
                    // elimino la clase y con ello el color de fondo
                    $(ele).removeClass(clase[ind]);
                    // establezco un evento hover para esa celda
                    // con dos funciones como parámetros, una para mouseover
                    // otra para mouseout
                    $(ele).hover(
                        // función para mouseover (el puntero entra en la celda)
                        () => {
                            // recupero el color de fondo original a partir del
                            // array 'clase', utilizando el índice correspondiente
                            $(ele).addClass(clase[ind]);
                        },
                        // función para mouseout (el puntero sale de la celda)
                        () => {
                            // elimino el color de fondo eliminando la clase
                            $(ele).removeClass(clase[ind]);
                        },
                    )
                })

            })
        </script>
    </head>
    <body>
        
        <div id="ej1" >
            <h2>Ejercicio 1</h2>
            <table>
                <tr>
                    <td class="red">Celda 1</td>
                    <td class="purple">Celda 2</td>
                </tr>
                <tr>
                    <td class="yellow">Celda 3</td>
                    <td class="orange">Celda 4</td>
                </tr>
            </table>
        </div>

    </body>
</html>
